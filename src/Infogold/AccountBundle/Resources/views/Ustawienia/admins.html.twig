{% extends "InfogoldAccountBundle:Default:index.html.twig" %}


{% if is_granted('ROLE_ADMIN') %}
    
{% block articletop %}

  {% endblock %}
   {% block articleleft %}
{{ knp_menu_render('InfogoldAccountBundle:Builder:ustawieniaMenu') }}					
    {% endblock articleleft %}


{% block articleright %}
<div class="col-md-offset-4">




    <h1 style="text-align: center">Administratorzy </h1>

    <table class="table  table-striped table-bordered table-hover table-condensed">
        <thead>
            <tr>
          
                <th>Imie</th>
                {% if  pagination is defined  %}    <th {% if pagination.isSorted('p.nazwisko') %} class="sorted"{% endif %}>{{ knp_pagination_sortable(pagination, 'Nazwisko', 'p.nazwisko') }}</th> {% else %} <th>Nazwisko</th>  {% endif %}
                <th>Status</th>   
                <th colspan="2">Aktywuj</th><th>Dezaktywuj</th><th>Usu≈Ñ</th>
        </thead>
        <tbody>
            {% if  pagination is defined  %}  
                {% for entity in pagination %}
                        <tr>                                         
                            <td style="vertical-align: middle;">{{ entity.imie }}</td>
                            <td style="vertical-align: middle;">{{ entity.nazwisko }}</td>
                            <td style="vertical-align: middle;">  {% if  entity.enabled == 0  %} nieaktywny  {% else %} aktywny {% endif %}</td>
                            <td align="center" style="vertical-align: middle;" colspan="2">

                                {% if  entity.enabled == 0  %}  <form method="POST" action="{{ path('activate_admin', { 'id': entity.id }) }}" > <button type="submit" class="btn btn-success btn-sm"><span class="glyphicon glyphicon-ok"></span></button></form>   {% endif %}

                            </td><td align="center" style="vertical-align: middle;">

                               {% if  entity.enabled == 1  %}   <form method="POST" action="{{ path('deactivate_admin', { 'id': entity.id }) }}" > <button type="submit" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-off"></span></button></form>   {% endif %}
                                    
                            </td>
                            
                            <td align="center" style="vertical-align: middle;">

                             <form method="POST" action="{{ path('delete_admin', { 'id': entity.id }) }}" > <button type="submit" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span></button></form>
                                    
                            </td>
                        </tr>              
                {% endfor %}
            {% endif %}

        </tbody>
    </table>
    {% if app.request.get('_route') == 'ustawienia' %}
        {% if  pagination is defined %}
            <div class="navigation">
                {{ knp_pagination_render(pagination) }}
            </div>
        {% endif %}
    {% endif %}

    
    
    
</div>
{% endblock articleright %}


{% endif %}

